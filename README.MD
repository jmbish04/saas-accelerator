# SaaS Starter Kit

A production-ready foundation for building SaaS applications with modern technologies.

## Features

- ğŸ” Authentication with Clerk.dev
- ğŸ’³ Payments & Subscriptions with Stripe
- ğŸ“§ Email templates with React Email + Resend
- ğŸ“Š Admin Dashboard with Tremor
- ğŸ—„ï¸ Database with Neon (Serverless Postgres)
- ğŸ§© Monorepo architecture with Turborepo
- ğŸ›¡ï¸ Security best practices (CSP, rate limiting, secure headers)
- ğŸ“¦ File storage with Cloudflare R2
- ğŸ§ª Testing with Vitest + Playwright
- ğŸš€ CI/CD with GitHub Actions

## Tech Stack

**Core**
- Frontend: React + TypeScript + Tailwind CSS
- Backend: Hono.js (Cloudflare Workers)
- Database: Neon (Postgres) + Drizzle ORM
- Hosting: Cloudflare Pages + Workers

**Services**
- Authentication: Clerk.dev
- Payments: Stripe
- Email: Resend + React Email
- Storage: Cloudflare R2
- Monitoring: Sentry + Logflare

**Dev Tools**
- Package Management: JSR
- Monorepo: Turborepo
- Testing: Vitest (Unit) + Playwright (E2E)

## Getting Started

1. Clone repository:
```bash
git clone https://github.com/your-repo/saas-starter.git
cd saas-starter
```

2. Install dependencies:
```bash
jsr install
npm install
```

3. Set up environment variables:
```bash
cp .env.example .env.local
# Fill in required values
```

4. Run database migrations:
```bash
npm run db:generate
npm run db:migrate
```

5. Start development servers:
```bash
npm run dev
```

## Environment Variables

| Variable                     | Description                     | Required |
|------------------------------|---------------------------------|----------|
| `DATABASE_URL`               | Neon Postgres connection URL    | âœ…       |
| `CLERK_SECRET_KEY`           | Clerk.dev API secret            | âœ…       |
| `STRIPE_SECRET_KEY`          | Stripe secret key               | âœ…       |
| `STRIPE_WEBHOOK_SECRET`      | Stripe webhook secret           | âœ…       |
| `RESEND_API_KEY`             | Resend API key                  | âœ…       |
| `R2_ACCESS_KEY_ID`           | Cloudflare R2 access key        | âœ…       |
| `R2_SECRET_ACCESS_KEY`       | Cloudflare R2 secret key        | âœ…       |
| `SENTRY_DSN`                 | Sentry DSN for error tracking   | âœ…       |

## Deployment

1. **Cloudflare Workers (Backend)**
```bash
cd apps/backend
npm run build
wrangler deploy
```

2. **Cloudflare Pages (Frontend)**
```bash
cd apps/frontend
npm run build
wrangler pages deploy ./dist
```

## Testing

**Unit Tests (Vitest)**
```bash
npm run test:unit
```

**E2E Tests (Playwright)**
```bash
npm run test:e2e
```

**CI Pipeline**
```bash
npm run test:ci # Runs all tests in CI mode
```

## Project Structure

```
.
â”œâ”€â”€ apps
â”‚   â”œâ”€â”€ frontend       # React + Vite application
â”‚   â””â”€â”€ backend        # Hono.js API server
â”œâ”€â”€ packages
â”‚   â”œâ”€â”€ db             # Database schema and migrations
â”‚   â”œâ”€â”€ ui             # Shared UI components (shadcn)
â”‚   â”œâ”€â”€ config         # Shared ESLint/Tailwind config
â”‚   â””â”€â”€ email          # React Email templates
â””â”€â”€ turbo.json         # Turborepo configuration
```

## Security Practices

- âœ… Content Security Policy (CSP) headers
- âœ… Rate limiting with Cloudflare KV
- âœ… Secure HTTP headers
- âœ… JWT verification with Clerk sessions
- âœ… Stripe webhook signature verification
- âœ… Environment validation with Zod
- âœ… Error sanitization and logging

## Monitoring

- **Error Tracking:** Sentry integration
- **Logging:** Logflare pipeline
- **Performance:** Cloudflare Analytics
- **Uptime:** Cloudflare Status Monitoring

